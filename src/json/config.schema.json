{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://adoptopenjdk.net/dist/json/config.schema.json",
  "title": "AdoptOpenJDK Release Definitions",
  "description": "Configuration for product listings on adoptopenjdk.net",
  "type": "object",
  "required": ["variants"],
  "definitions": {
    "fileExt": {
      "type": "string",
      "description": "A file extension beginning with a period.",
      "examples": [".exe", ".tar.gz", ".run", ".sh"],
      "oneOf": [
        { "pattern": "^(\\.[a-z0-9]+)+$" },
        { "enum": [ "no-installer-available" ] }
      ]
    },
    "command": {
      "type": "string",
      "description": "A command that can be executed on a respective platform.",
      "$comment": "Update 'pattern' to enforce styles or add restricted patterns to the 'not anyOf' array.",
      "pattern": "^(.*)$",
      "not": {
        "anyOf": [
          { "pattern": "(rm \\-\\w*[rRfdviI]+\\w* /\\s*)$" }
        ]
      }
    }
  },
  "properties": {
    "variants": {
      "$id": "#/properties/variants",
      "type": "array",
      "title": "JDK Versions and Variants",
      "items": {
        "$id": "#/properties/variants/items",
        "type": "object",
        "required": ["searchableName", "officialName"],
        "properties": {
          "searchableName": {
            "$id": "#/properties/variants/items/properties/searchableName",
            "type": "string",
            "title": "Searchable Name (package manager-friendly)",
            "examples": ["openjdk8-hotspot", "openjdk11-openj9"]
          },
          "officialName": {
            "$id": "#/properties/variants/items/properties/officialName",
            "type": "string",
            "title": "Official name",
            "description": "Descriptive name that includes OpenJDK and JVM versions.",
            "examples": ["OpenJDK 8 with HotSpot", "OpenJDK 11 with Eclipse OpenJ9"]
          },
          "default": {
            "$id": "#/properties/variants/items/properties/default",
            "type": "boolean",
            "title": "Default variant",
            "description": "True for a variant that should be selected by default.",
            "default": false
          },
          "descriptionLink": {
            "$id": "#/properties/variants/items/properties/descriptionLink",
            "type": "string",
            "format": "uri",
            "title": "Description link",
            "examples": ["https://www.eclipse.org/openj9"]
          }
        }
      }
    }
  }
}
